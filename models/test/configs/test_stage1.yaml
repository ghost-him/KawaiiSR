train:
  device: cuda
  epochs: 30
  batch_size: 3
  learning_rate: 1.0e-3
  mixed_precision: false
  gradient_clip_norm: 1.0
  num_workers: 24
  pin_memory: true
  use_online_data: true
  train_data_path: ./models/test/data/train
  val_data_path: ./models/test/data/vali
  val_every: 1
  log_every: 100
  early_stopping_patience: 10
  tensorboard_dir: ./models/test/logs/real_stage1
  checkpoint_dir: ./models/test/checkpoints/real_stage1
  torch_compile: false

loss_weights:
  pixel: 1.0      # 仅像素/频域，稳定收敛
  frequency: 0.2  # 轻微频域约束，帮助边缘
  perceptual: 0.0
  vgg: 0.0
  adversarial: 0.0

loss_options:
  enable_anime_loss: false

gan:
  enabled: false
  discriminator_lr: 1.0e-4
  disc_update_ratio: 1

save_metrics:
  lpips: true

online_data_options:
  crop_size: 128        # 覆盖默认裁剪尺寸
  scale: 2              # 覆盖放大倍数，仍需能整除 crop_size
  downsample_filters: [nearest, bilinear, bicubic, lanczos]
  noise_p: 0.2
  noise_std_min: 0.001
  noise_std_max: 0.03
  blur_p: 0.2
  blur_sigma_min: 0.4
  blur_sigma_max: 1.5
  jpeg_p: 0.3
  jpeg_quality_min: 40
  jpeg_quality_max: 95
  webp_p: 0.3
  webp_quality_min: 45
  webp_quality_max: 95